# AWS SAM Configuration for Second Watch Network API
# Run: sam deploy --guided (first time) or sam deploy (subsequent times)
# IMPORTANT: Always use AWS_PROFILE=second-watch-network when deploying

version = 0.1

[default.deploy.parameters]
stack_name = "second-watch-network-api"
region = "us-east-1"
profile = "second-watch-network"
confirm_changeset = true
capabilities = "CAPABILITY_IAM"
disable_rollback = false
image_repositories = []
resolve_s3 = true

# Parameter overrides - update these values before deploying
# parameter_overrides = "DatabaseUrl=postgresql://... CognitoUserPoolId=us-east-1_xxx ..."

# CI/CD environment â€” no profile, uses env var credentials from GitHub Actions
[ci.deploy.parameters]
stack_name = "second-watch-network-api"
region = "us-east-1"
confirm_changeset = false
capabilities = "CAPABILITY_IAM"
disable_rollback = false
resolve_s3 = true
